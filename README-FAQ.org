TITLE: Shaoline ‚Äî –ß–∞—Å—Ç–æ –ó–∞–¥–∞–≤–∞–µ–º—ã–µ –í–æ–ø—Ä–æ—Å—ã
#+AUTHOR: –ë—Ä–æ–¥—è—á–∏–π –ë–∞–π—Ç  
#+LANGUAGE: ru  

- ü™¥ –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ—Ç —Å–≤–∏—Ç–æ–∫ —Å–æ–±–∏—Ä–∞–µ—Ç —Å–∞–º—ã–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ Shaoline –∏ –¥–∞—ë—Ç —Å–ø–æ–∫–æ–π–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã.  
–ó–¥–µ—Å—å –Ω–µ—Ç —ç–∑–æ—Ç–µ—Ä–∏–∫–∏, –ª–∏—à—å —è—Å–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∏ –∫—Ä–∞—Ç–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞.  
–ß–µ–º –º–µ–Ω—å—à–µ —à—É–º–∞ ‚Äì —Ç–µ–º –ø—Ä–æ—â–µ —Ä–∞–±–æ—Ç–∞.

---

- ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã

| –í–æ–ø—Ä–æ—Å                              | –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç                                                      |
|-------------------------------------+---------------------------------------------------------------------|
| –≠—Ö–æ-—Å–µ–≥–º–µ–Ω—Ç –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ =shaoline-segment-echo-message= —Å—Ç–æ–∏—Ç –≤ =:center=        |
| –°—Ç—Ä–æ–∫–∞ –º–∏–≥–∞–µ—Ç                       | –ö—Ç–æ-—Ç–æ —à–ª—ë—Ç –ø—É—Å—Ç–æ–π =message=; –≤–∫–ª—é—á–∏—Ç–µ =shaoline-debug=                 |
| –ù—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –º–æ–∏ –∏–∫–æ–Ω–∫–∏ minor-modes | –ü—Ä–∞–≤—å—Ç–µ =shaoline-minor-modes-icon-map=                               |
| –°—Ç–∞—Ä—ã–π mode-line –≤–µ—Ä–Ω—É—Ç—å?           | –°–Ω–∏–º–∏—Ç–µ —Ñ–ª–∞–≥ =shaoline-autohide-modeline=                             |
| CPU –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–µ—Ç                    | –°—Ç–æ—Ä–æ–Ω–Ω–∏–π –ø–∞–∫–µ—Ç —Å–ø–∞–º–∏—Ç =message=; —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥                        |
| TTY –±–µ–∑ –Æ–Ω–∏–∫–æ–¥–∞                     | –û—Ç–∫–ª—é—á–∏—Ç–µ =shaoline-enable-dynamic-segments=; –≤—Å—ë –¥–µ–≥—Ä–∞–¥–∏—Ä—É–µ—Ç –≤ ASCII |
| –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ             | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ + =[more]=                                 |

---

- ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. GNU ELPA / MELPA  
   =M-x package-install RET shaoline RET=

2. Straight / Quelpa / Git  
   –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ =load-path=.

3. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ä—Ç:  

   #+begin_src emacs-lisp
   (use-package shaoline
     :ensure t
     :config
     (shaoline-mode 1))
   #+end_src

---

- üß© –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

1. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ  

   | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                       | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                  |
   |----------------------------------+--------------+---------------------------------------------|
   | =shaoline-segments=                | —Å–º. README   | –û–ø–∏—Å—ã–≤–∞–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã :left / :center / :right |
   | =shaoline-right-padding=           | 20           | –ü—É—Å—Ç–æ—Ç–∞ –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞              |
   | =shaoline-enable-dynamic-segments= | t            | =nil= = –±–µ–∑ —á–∞—Å–æ–≤, –±–∞—Ç–∞—Ä–µ–∏ –∏ –∏–∫–æ–Ω–æ–∫           |
   | =shaoline-autohide-modeline=       | t            | –ü—Ä—è—á–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π mode-line               |
   | =shaoline-exclude-modes=           | —Å–ø–∏—Å–æ–∫       | –í —ç—Ç–∏—Ö major-modes –∫–ª–∞—Å—Å–∏–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è        |
   | =shaoline-update-hooks=            | post-cmd ... | –•—É–∫–∏, –≤—ã–∑—ã–≤–∞—é—â–∏–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É                |

2. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ:  
   =M-x customize-group RET shaoline RET=

3. –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–∏–º–µ—Ä —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–∏:  

   #+begin_src emacs-lisp
   (setq shaoline-segments
         '((:left   shaoline-segment-icon-and-buffer
                    shaoline-segment-modified)
           (:center shaoline-segment-echo-message)
           (:right  shaoline-segment-project-name
                    shaoline-segment-git-branch
                    shaoline-segment-time)))
   #+end_src

---

- üõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤

–°–µ–≥–º–µ–Ω—Ç ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è —Å—Ç—Ä–æ–∫—É. –ù–∏–∫–∞–∫–∏—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

#+begin_src emacs-lisp
(shaoline-define-segment shaoline-segment-buffer-size (buffer)
  "–†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –≤ KiB."
  (format "%.1f KiB" (/ (buffer-size buffer) 1024.0)))
#+end_src

–î–æ–±–∞–≤—å—Ç–µ –µ—ë –∫—É–¥–∞ –Ω—É–∂–Ω–æ:

#+begin_src emacs-lisp
(push 'shaoline-segment-buffer-size
      (alist-get :right shaoline-segments))
#+end_src

---

- üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –ü–∞–∫–µ—Ç         | –ì–æ—Ç–æ–≤—ã–π —Å–µ–≥–º–µ–Ω—Ç               | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å          |
|---------------+-------------------------------+----------------------|
| Evil          | =shaoline-segment-evil-state=   | =evil=                 |
| Flycheck      | =shaoline-segment-flycheck=     | =flycheck=             |
| Flymake       | —Ç–æ—Ç –∂–µ, –∞–≤—Ç–æ-–¥–µ—Ç–µ–∫—Ç           | builtin              |
| Projectile    | =shaoline-segment-project-name= | =projectile= (–æ–ø—Ü.)    |
| all-the-icons | –∏–∫–æ–Ω–∫–∏ –¥–ª—è –º–Ω–æ–≥–∏—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤   | =all-the-icons= (–æ–ø—Ü.) |

---

- üöë –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

| –°–∏–º–ø—Ç–æ–º                  | –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞                           | –î–µ–π—Å—Ç–≤–∏–µ                                            |
|--------------------------+---------------------------------------------+-----------------------------------------------------|
| –ú–µ—Ä—Ü–∞–Ω–∏–µ —ç—Ö–∞             | –ü—É—Å—Ç—ã–µ =message= –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–∞–∫–µ—Ç–æ–≤            | –í–∫–ª—é—á–∏—Ç–µ =shaoline-debug=, –æ—Ç–∫—Ä–æ–π—Ç–µ /shaoline-logs/     |
| Battery ‚Üí N/A            | –ù–µ—Ç –±–∞—Ç–∞—Ä–µ–∏ –∏–ª–∏ =battery-status-function= nil | –ü—Ä–∏–º–∏—Ç–µ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å, —Å–∫—Ä–æ–π—Ç–µ —Å–µ–≥–º–µ–Ω—Ç                 |
| –¶–µ–Ω—Ç—Ä –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è       | –ù–µ—Ç –Ω–æ–≤–æ–≥–æ –Ω–µ–ø—É—Å—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è              | =(message "–û—á–∏—Å—Ç–∫–∞")= –∑–∞—Ç–µ–º =(message nil)=             |
| –≠—Ö–æ –Ω–µ –≤–∏–¥–Ω–æ             | –°–µ–≥–º–µ–Ω—Ç –Ω–µ –≤ =:center=, —Å–æ–≤–µ—Ç =message= —É—Ç—Ä–∞—á–µ–Ω | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ =shaoline-segments=, –æ—Ç–∫–ª—é—á–∏—Ç–µ —á—É–∂–æ–π advice |
| –í—ã—Å–æ–∫–∏–π CPU              | –°–ø–∞–º –≤ =post-command-hook= –∏–ª–∏ =message=        | –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ, —É–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–π –ø–∞–∫–µ—Ç                  |
| –ù–µ—Ç –∏–∫–æ–Ω–æ–∫               | –ù–µ—Ç =all-the-icons= –∏–ª–∏ TTY                   | –õ–∏–±–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç, –ª–∏–±–æ –∂–∏–≤–∏—Ç–µ –±–µ–∑ –∏–∫–æ–Ω–æ–∫       |
| –õ—É–Ω—ã –Ω–µ—Ç –≤ TTY           | –ù–µ—Ç –Æ–Ω–∏–∫–æ–¥–∞                                 | –¢–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ: fallback ASCII                        |
| –°—Ç—Ä–æ–∫–∞ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –ø—Ä–∏ =M-x= | –ì–æ–≤–æ—Ä–∏—Ç minibuffer                          | –≠—Ç–æ –Ω–æ—Ä–º–∞; –ø–æ –≤—ã—Ö–æ–¥—É Shaoline –≤–µ—Ä–Ω—ë—Ç—Å—è              |
| –°–µ–≥–º–µ–Ω—Ç –≤—ã–¥–∞–ª –æ—à–∏–±–∫—É     | –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏                        | –í —Ä–µ–Ω–¥–µ—Ä–µ –ø–æ–∫–∞–∂–µ—Ç—Å—è =[SEGMENT ERROR]=, —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥   |

---

- üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥—Ä–æ—Å—Å–µ–ª–∏—Ä—É—é—Ç—Å—è —Ç–∞–π–º–µ—Ä–æ–º –≤ 0.12 —Å.  
- –¢–∞–π–º–µ—Ä =shaoline--timer= –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è /—Ç–æ–ª—å–∫–æ/ –µ—Å–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —á–∞—Å—ã –∏–ª–∏ –±–∞—Ç–∞—Ä–µ—è.  
- =shaoline-enable-dynamic-segments = nil= ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –º–∏–Ω–∏–º—É–º: –Ω–∏ —Ç–∞–π–º–µ—Ä–æ–≤, –Ω–∏ =require=.  

---

- ‚úàÔ∏è TTY-—Ä–µ–∂–∏–º

Shaoline –Ω–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –≥—Ä–∞—Ñ–∏–∫–µ. –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

- –Æ–Ω–∏–∫–æ–¥-–∏–∫–æ–Ω–∫–∏ –∑–∞–º–µ–Ω—è—é—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–º.  
- –§–∞–∑–∞ –ª—É–Ω—ã —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ —à—Ä–∏—Ñ—Ç –µ—ë –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç.  
- –¶–≤–µ—Ç–∞ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç —Ç–µ–º—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.  

---

- ‚ùì –ß–∞—Å—Ç–æ –ø—É—Ç–∞—é—Ç

1. /¬´–ü—É—Å—Ç–æ–µ =message= –æ—á–∏—â–∞–µ—Ç —Ü–µ–Ω—Ç—Ä¬ª/ ‚Äì –Ω–µ—Ç, Shaoline –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏.  
2. /¬´–ù—É–∂–µ–Ω doom-modeline –¥–ª—è –∏–∫–æ–Ω–æ–∫¬ª/ ‚Äì –Ω–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ =all-the-icons=, –∞ –∏ –±–µ–∑ –Ω–µ–≥–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.  
3. /¬´–ù—É–∂–µ–Ω Emacs 29+¬ª/ ‚Äì Shaoline –¥—Ä—É–∂–∏—Ç —Å 27.1 –∏ –≤—ã—à–µ.  
4. /¬´–ë–µ–∑ projectile –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç¬ª/ ‚Äì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è =project.el=, projectile –ª–∏—à—å –æ–ø—Ü–∏—è.  

---

- ü§ù –í–∫–ª–∞–¥ –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

Pull-request‚Äô—ã, issue, –∏–¥–µ–∏ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏ –¥–∞–∂–µ —Å—Ç–∏—Ö–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è:  
https://github.com/11111000000/shaoline  

–ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –æ—à–∏–±–∫–∏ –≤–∫–ª—é—á–∏—Ç–µ =shaoline-debug=, –ø—Ä–∏–ª–æ–∂–∏—Ç–µ –ª–æ–≥ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç.

---

- üèÅ –§–∏–Ω–∞–ª

–ó–∞–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª, –≤–¥–æ—Ö–Ω–∏—Ç–µ.  
–ï—Å–ª–∏ –≤—Å—ë —è—Å–Ω–æ ‚Äì –æ—Ç–ª–∏—á–Ω–æ. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ ‚Äì —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ.  
Shaoline –Ω–µ —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–æ—Å–æ–±–æ–≤, –æ–Ω –ª–∏—à—å —Å–∫—Ä—ã–≤–∞–µ—Ç –ª–∏—à–Ω–µ–µ.

