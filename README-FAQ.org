#+TITLE: Shaoline ‚Äî –ß–∞—Å—Ç–æ –ó–∞–¥–∞–≤–∞–µ–º—ã–µ –í–æ–ø—Ä–æ—Å—ã
#+AUTHOR: –ë—Ä–æ–¥—è—á–∏–π –ë–∞–π—Ç  
#+LANGUAGE: ru  

- ü™¥ –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ—Ç —Å–≤–∏—Ç–æ–∫ —Å–æ–±–∏—Ä–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –æ Shaoline, –¥–∞—ë—Ç –æ—Ç–≤–µ—Ç—ã –∫–∞–∫ –ª—ë–≥–∫–∏–π –±—Ä–∏–∑.  
–ó–¥–µ—Å—å —è—Å–Ω–æ—Å—Ç—å, –ø—Ä–∏–º–µ—Ä—ã, –Ω–æ –Ω–µ—Ç —à—É–º–∞. –ú–µ–Ω—å—à–µ —Å–ª–æ–≤ ‚Äî –±–ª–∏–∂–µ –∫ –ü—É—Å—Ç–æ—Ç–µ.

- üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ä—Å–∏–∏ 2.1.1
  - –†–∞–∑–¥–µ–ª–µ–Ω—ã —á–∞—Å—ã –∏ –ª—É–Ω–∞: `shaoline-segment-digital-clock` –∏ `shaoline-segment-moon-phase`.
  - –î–æ–±–∞–≤–ª–µ–Ω—ã minor-modes (–∏–∫–æ–Ω–∫–∏ –≤ `:left`) –∏ input-method (–≤ `:right`).
  - –î–µ–±–æ–ΩÏã± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π: –Ω–µ—Ç –º–µ—Ä—Ü–∞–Ω–∏—è –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö.
  - Persistent —Ü–µ–Ω—Ç—Ä: –¥–µ—Ä–∂–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –Ω–µ–ø—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

---

- ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã

| –í–æ–ø—Ä–æ—Å                              | –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç                                                      |
|-------------------------------------+---------------------------------------------------------------------|
| –≠—Ö–æ-—Å–µ–≥–º–µ–Ω—Ç –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `shaoline-segment-echo-message` –≤ `:center`          |
| –°—Ç—Ä–æ–∫–∞ –º–∏–≥–∞–µ—Ç                       | –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã; –¥–µ–±–æ–Ω—Å–∏–Ω–≥ —Ä–µ—à–∞–µ—Ç. –í–∫–ª—é—á–∏—Ç–µ `shaoline-debug`        |
| –ù—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –º–æ–∏ –∏–∫–æ–Ω–∫–∏ minor-modes | –ü—Ä–∞–≤—å—Ç–µ `shaoline-minor-modes-icon-map`                             |
| –°—Ç–∞—Ä—ã–π mode-line –≤–µ—Ä–Ω—É—Ç—å?           | –°–Ω–∏–º–∏—Ç–µ —Ñ–ª–∞–≥ `shaoline-autohide-modeline`                           |
| CPU –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–µ—Ç                    | –°—Ç–æ—Ä–æ–Ω–Ω–∏–π –ø–∞–∫–µ—Ç —Å–ø–∞–º–∏—Ç `message`; —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥                      |
| TTY –±–µ–∑ –Æ–Ω–∏–∫–æ–¥–∞                     | –û—Ç–∫–ª—é—á–∏—Ç–µ `shaoline-enable-dynamic-segments`; —Ñ–æ–ª–ª–±–µ–∫ –≤ ASCII       |
| –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ             | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ + `[more]`                               |
| –ü–æ—á–µ–º—É —á–∞—Å—ã –∏ –ª—É–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ?        | –î–ª—è –≥–∏–±–∫–æ—Å—Ç–∏: –¥–æ–±–∞–≤—å—Ç–µ/—É–±–µ—Ä–∏—Ç–µ –∫–∞–∫ –∫–∞–º–Ω–∏ –≤ —Å–∞–¥—É                     |
| –ù–µ—Ç –∏–∫–æ–Ω–æ–∫ –≤ minor-modes            | –†–∞—Å—à–∏—Ä—å—Ç–µ `shaoline-minor-modes-icon-map`                           |
| Input-method –Ω–µ –≤–∏–¥–µ–Ω               | –î–æ–±–∞–≤—å—Ç–µ `shaoline-segment-input-method` –≤ `:right`                 |

---

- ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. GNU ELPA / MELPA  
   `M-x package-install RET shaoline RET`

2. Straight / Quelpa / Git  
   –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `load-path`.

3. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ä—Ç:  

   #+begin_src emacs-lisp
   (use-package shaoline
     :ensure t
     :config
     (shaoline-mode 1))
   #+end_src

---

- üß© –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

1. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ  

   | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                         | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                               |
   |------------------------------------+--------------+------------------------------------------|
   | `shaoline-segments`                | —Å–º. –ø—Ä–∏–º–µ—Ä   | –°–µ–≥–º–µ–Ω—Ç—ã :left / :center / :right        |
   | `shaoline-right-padding`           | 0            | –ü—É—Å—Ç–æ—Ç–∞ –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞           |
   | `shaoline-enable-dynamic-segments` | t            | `nil` = –±–µ–∑ —á–∞—Å–æ–≤, –ª—É–Ω—ã, –±–∞—Ç–∞—Ä–µ–∏, –∏–∫–æ–Ω–æ–∫ |
   | `shaoline-autohide-modeline`       | t            | –ü—Ä—è—á–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π mode-line            |
   | `shaoline-exclude-modes`           | —Å–ø–∏—Å–æ–∫       | –í —ç—Ç–∏—Ö major-modes –∫–ª–∞—Å—Å–∏–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è     |
   | `shaoline-update-hooks`            | post-cmd ... | –•—É–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏                     |
   | `shaoline-minor-modes-icon-map`    | –∞–ª–ª–∏—Å—Ç       | –ò–∫–æ–Ω–∫–∏ –¥–ª—è minor-modes                   |

2. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ:  
   `M-x customize-group RET shaoline RET`

3. –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–∏–º–µ—Ä —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–∏ (—Å –Ω–æ–≤—ã–º–∏ —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏):  

   #+begin_src emacs-lisp
(setq shaoline-segments
      '((:left   shaoline-segment-major-mode-icon
                 shaoline-segment-buffer-name
                 shaoline-segment-modified
                 shaoline-segment-minor-modes)
        (:center shaoline-segment-echo-message)
        (:right  shaoline-segment-project-name
                 shaoline-segment-git-branch
                 shaoline-segment-input-method
                 shaoline-segment-digital-clock
                 shaoline-segment-moon-phase)))
   #+end_src

- üõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤

–°–µ–≥–º–µ–Ω—Ç ‚Äî —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è: —Å—Ç—Ä–æ–∫–∞ –Ω–∞ –≤—ã—Ö–æ–¥–µ, –Ω–∏–∫–∞–∫–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

#+begin_src emacs-lisp
(shaoline-define-segment shaoline-segment-buffer-size (buffer)
  "–†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –≤ KiB."
  (format "%.1f KiB" (/ (buffer-size buffer) 1024.0)))

(push 'shaoline-segment-buffer-size (alist-get :right shaoline-segments))
#+end_src

- üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –ü–∞–∫–µ—Ç         | –ì–æ—Ç–æ–≤—ã–π —Å–µ–≥–º–µ–Ω—Ç                 | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å            |
|---------------+---------------------------------+------------------------|
| Evil          | `shaoline-segment-evil-state`   | `evil`                 |
| Flycheck      | `shaoline-segment-flycheck`     | `flycheck`             |
| Flymake       | —Ç–æ—Ç –∂–µ, –∞–≤—Ç–æ-–¥–µ—Ç–µ–∫—Ç             | builtin                |
| Projectile    | `shaoline-segment-project-name` | `projectile` (–æ–ø—Ü.)    |
| all-the-icons | –∏–∫–æ–Ω–∫–∏ (minor-modes, –±—É—Ñ–µ—Ä)     | `all-the-icons` (–æ–ø—Ü.) |

- üöë –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

| –°–∏–º–ø—Ç–æ–º                  | –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞                | –î–µ–π—Å—Ç–≤–∏–µ                                              |
|--------------------------+----------------------------------+-------------------------------------------------------|
| –ú–µ—Ä—Ü–∞–Ω–∏–µ —ç—Ö–∞             | –ü—É—Å—Ç—ã–µ `message` –æ—Ç –ø–∞–∫–µ—Ç–æ–≤      | –í–∫–ª—é—á–∏—Ç–µ `shaoline-debug`, –æ—Ç–∫—Ä–æ–π—Ç–µ `*shaoline-logs*` |
| Battery ‚Üí N/A            | –ù–µ—Ç –±–∞—Ç–∞—Ä–µ–∏                      | –°–∫—Ä—ã—Ç—å —Å–µ–≥–º–µ–Ω—Ç, –ø—Ä–∏–Ω—è—Ç—å –ü—É—Å—Ç–æ—Ç—É                       |
| –¶–µ–Ω—Ç—Ä –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è       | –ù–µ—Ç –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è             | `(message "–û—á–∏—Å—Ç–∫–∞")` –∑–∞—Ç–µ–º `(message nil)`           |
| –≠—Ö–æ –Ω–µ –≤–∏–¥–Ω–æ             | –ù–µ –≤ `:center` –∏–ª–∏ advice —Å–ª–æ–º–∞–Ω | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `shaoline-segments`                         |
| –í—ã—Å–æ–∫–∏–π CPU              | –°–ø–∞–º –≤ —Ö—É–∫–∞—Ö –∏–ª–∏ `message`       | –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ, –æ—Ç–∫–ª—é—á–∏—Ç–µ –¥–∏–Ω–∞–º–∏–∫—É                      |
| –ù–µ—Ç –∏–∫–æ–Ω–æ–∫               | –ù–µ—Ç `all-the-icons` –∏–ª–∏ TTY      | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç –∏–ª–∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å ASCII              |
| –õ—É–Ω–∞ –Ω–µ –≤–∏–¥–Ω–∞ –≤ TTY      | –ù–µ—Ç –Æ–Ω–∏–∫–æ–¥–∞                      | –§–æ–ª–ª–±–µ–∫: –æ—Ç–∫–ª—é—á–∏—Ç–µ –¥–∏–Ω–∞–º–∏–∫—É                           |
| –°—Ç—Ä–æ–∫–∞ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –ø—Ä–∏ M-x | –ú–∏–Ω–∏–±—É—Ñ–µ—Ä –≥–æ–≤–æ—Ä–∏—Ç                | –ù–æ—Ä–º–∞; Shaoline –≤–µ—Ä–Ω—ë—Ç—Å—è –∫–∞–∫ –ª–æ—Ç–æ—Å                    |
| –°–µ–≥–º–µ–Ω—Ç –≤—ã–¥–∞–ª –æ—à–∏–±–∫—É     | –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏             | `[SEGMENT ERROR]`, —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥                       |

- üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–µ–±–æ–Ω—Å—è—Ç—Å—è (0.12 —Å).  
- –¢–∞–π–º–µ—Ä —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–∏–Ω–∞–º–∏–∫–∏ (—á–∞—Å—ã/–±–∞—Ç–∞—Ä–µ—è/–ª—É–Ω–∞).  
- `shaoline-enable-dynamic-segments = nil` ‚Äî –º–∏–Ω–∏–º—É–º: –Ω–∏ —Ç–∞–π–º–µ—Ä–æ–≤, –Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.  

- ‚úàÔ∏è TTY-—Ä–µ–∂–∏–º

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç: –∏–∫–æ–Ω–∫–∏ ‚Üí —Ç–µ–∫—Å—Ç, –ª—É–Ω–∞ ‚Üí ASCII. –¶–≤–µ—Ç–∞ –æ—Ç —Ç–µ–º—ã. –ú–∏–Ω–∏–º–∞–ª–∏–∑–º –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ.

- ‚ùì –ß–∞—Å—Ç–æ –ø—É—Ç–∞—é—Ç

1. ¬´–ü—É—Å—Ç–æ–π `message` –æ—á–∏—â–∞–µ—Ç —Ü–µ–Ω—Ç—Ä¬ª ‚Äî –Ω–µ—Ç, Shaoline –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—É—Å—Ç–æ–µ.  
2. ¬´–ù—É–∂–µ–Ω doom-modeline –¥–ª—è –∏–∫–æ–Ω–æ–∫¬ª ‚Äî –Ω–µ—Ç, `all-the-icons` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.  
3. ¬´Emacs 29+ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω¬ª ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 27.1+.  
4. ¬´–ë–µ–∑ projectile –Ω–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞¬ª ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `project.el`, projectile –æ–ø—Ü–∏—è.  

- ü§ù –í–∫–ª–∞–¥

Pull-request‚Äô—ã, issue, —Å—Ç–∏—Ö–∏: https://github.com/11111000000/shaoline.  
–° –æ—à–∏–±–∫–æ–π ‚Äî `shaoline-debug t`, –ª–æ–≥ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä.

- üèÅ –§–∏–Ω–∞–ª

–í–¥–æ—Ö–Ω–∏—Ç–µ. –í—Å—ë —è—Å–Ω–æ? –û—Ç–ª–∏—á–Ω–æ. –ù–µ—Ç ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ. Shaoline —Å–∫—Ä—ã–≤–∞–µ—Ç –ª–∏—à–Ω–µ–µ, –Ω–æ –Ω–µ –∏—Å—Ç–∏–Ω—É.
